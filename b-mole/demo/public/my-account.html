<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
    <link rel="stylesheet" href="../css/header.css">
    <link rel="stylesheet" href="../css/footer.css">
    <link rel="stylesheet" href="../css/comm.css">  
    <link rel="stylesheet" href="../css/my-account.css">      
</head>
<body>
    <!-- 页头 -->
    <div id='header'></div>
    <!-- 账户详情 -->
    <div class="myAccount">
        <ul>
            <li class='active' onclick='moveto(0)'>
                <a href="javascript:;" >仪表盘</a>
            </li>
            <li onclick='moveto(1)'>
                <a href="javascript:;" >订单</a>
            </li>
            <li onclick='moveto(2)'>
                <a href="javascript:;">下载</a>
            </li>
            <li onclick='moveto(3)'>
                <a href="javascript:;">地址</a>
            </li>
            <li onclick='moveto(4)'>
                <a href="javascript:;">账户详情</a>
            </li>
            <li onclick='getout()'>
                <a href="javascript:;">退出</a>
            </li>
        </ul>
        <div class="myAcc">
            <div>                
                <p>您好 <span class='name'></span>(不是<span class='name'></span> ？<a href="javdscript:;" onclick='getout()'>退出</a>)</p>
                <p>在您的账户仪表盘，您可查看最近的订单，管理您的配送和账单地址，并可修改您的密码和账户详情.</p>
            </div>
            <div>                
                <h5>未曾下过订单<button class='but'>前往店铺</button></h5>          
            </div>
            <div>                
                <button class='but' style='float:none;'>前往店铺</button>
                <span>还没有可用的下载</span>
            </div>
            <div style='display:flex;justify-content:space-around;'>                
                <div>
                    <p style='font-size:18px'>My Addresses</p>
                    <p style='font-size:12px'>下列地址将默认用于结算页面。</p>
                    <p style='font-size:18px'>Billing Address</p>
                    <button class='but1'>编辑</button>
                    <p>您没有设置过此类型的地址</p>
                </div>
                <div>
                    <p>&nbsp;</p>
                    <p>&nbsp;</p>
                    <p style='font-size:18px'>Shipping Address</p>
                    <button class='but1'>编辑</button>
                    <p>您没有设置过此类型的地址</p>
                </div>
            </div>
            <div>                
                <ul class='myAcc-ul'>
                    <li>
                        <div><p>名字*</p><input type="text" class='acc'></div>
                        <div><p>姓氏*</p><input type="text" class='acc'></div>
                    </li>
                    <li>
                        <div><p>电邮地址*</p><input type="text" class='acc'></div>
                    </li>
                    <li>
                        <div>
                            <p>修改密码</p>
                            <p>当前密码 （留空则不修改）</p>
                            <input type="text"class='abb'>
                        </div>
                    </li>
                    <li>
                        <div>
                            <p>新密码</p>                            
                            <input type="text"class='abb'>
                        </div>
                    </li>
                    <li>
                        <div>
                            <p>确认新密码</p>                            
                            <input type="text"class='abb'>
                        </div>
                    </li>
                    <li>
                        <div>
                            <button class='but2'>保存更改</button>
                        </div>
                    </li>
                </ul>
            </div>             
        </div>
    </div>
    <!-- 页脚 -->
    <div id='footer'></div>
</body>
<script>
    $(function(){ 
        // 加载页头
        $('#header').load('./header.html',function(){
            $('#header').contents().prevObject.find('ul.nav-item .nav-link:nth-child(9)').addClass('link-f').siblings().removeClass('link-f')
        })
        // 加载页脚
        $('#footer').load('./footer.html')  
        //  加载用户名字--session
        var name=window.sessionStorage.getItem('name');
        $('.name').html(name);
        console.log(name)
    })
    //导航栏切换  
    function moveto(index){      
        var inde=-(1*index)+'00%'        
        $('.myAcc').css('transform',`translateY(${inde})`)            
        }
    $('.myAccount>ul>li').click(function(){
        if(!$(this).hasClass('active')){
            $(this).addClass('active').siblings().removeClass('active')
        }
    })
    // 登出
    function getout(){
        $('body').append($(`<div class="alert">登出成功</div>`))
       window.sessionStorage.clear('uid') 
       setTimeout(function(){
            $('div.alert').remove()
           window.location.href='http://127.0.0.1:5500/b-mole/demo/public/login.html'
       },1000)  
    }
</script>
</html>